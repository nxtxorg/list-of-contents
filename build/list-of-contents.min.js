var list_of_contents=function(){"use strict";var e,n=function(){return(n=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};!function(e){e[e.Paragraph=1]="Paragraph",e[e.Command=2]="Command",e[e.Text=3]="Text",e[e.Block=4]="Block",e[e.Html=5]="Html",e[e.Node=6]="Node",e[e.Boolean=10]="Boolean",e[e.Dictionary=11]="Dictionary",e[e.Array=12]="Array",e[e.Number=13]="Number",e[e.String=14]="String"}(e||(e={}));var t={},r={},a=[],o={},c=document.createElement("style");c.id="basic-formatting-style-block",document.head.appendChild(c);var i=c.sheet,l=[["chapter","h1"],["section","h3"],["subsection","h4"]].map(function(e){return function(e,o){t[e]=0,r=n({},t);var c={preprocessor:{},command:{}};return c.preprocessor[e]=function(t){r[e]+=1,p(e),a.push({type:e,title:t.value,numbering:n({},r)})},c.command[e]=function(e){return nxtx.html(o,null,e.value)},c}(e[0],e[1])}),s=Object.assign.apply(Object,[{}].concat(l.map(function(e){return e.preprocessor}))),u=Object.assign.apply(Object,[{}].concat(l.map(function(e){return e.command}))),p=function(e){for(var n=Object.keys(r),t=!1,a=0;a<n.length;a++)t?r[n[a]]=0:n[a]===e&&(t=!0)},m=function(e){return Object.keys(e).map(function(n){return e[n]}).join(".").replace(/[.0]+$/,"")},f=function(e,n){var t=o[e];if(!t)return console.warn("Label '"+e+"' has not been referenced"),nxtx.html("b",{class:"warning"},""+e);var r,a="";switch(t.type){case"chapter":a="chapter "+m(t.numbering);break;case"section":case"subsection":a="section "+m(t.numbering)}return n?(r=a)[0].toUpperCase()+r.substr(1):a};i.insertRule(".loc-chapter { font-size: 14pt }",0),i.insertRule(".loc-section { font-size: 13pt; padding-left: 2em }",1),i.insertRule(".loc-subsection { font-size: 12pt; padding-left: 4em }",2);var h={name:"images",preprocessors:n({label:function(e){void 0!==o[e.value]?console.warn("Attempt to redefine label '"+e.value+"' ignored"):o[e.value]=a[a.length-1]}},s),commands:n({label:function(e){return nxtx.html("span",{id:"--"+e.value,"data-label":e.value})},ref:function(e){return nxtx.html("a",{href:"#--"+e.value,"data-ref":e.value},f(e.value,!1))},Ref:function(e){return nxtx.html("a",{href:"#--"+e.value,"data-ref":e.value},f(e.value,!0))},"loc-print":function(){return[nxtx.html("h2",{class:"list-of-contents"},"List of Contents")].concat(a.map(function(e){return nxtx.html("div",{class:"loc-"+e.type},m(e.numbering)+" "+e.title)}),[{type:e.Command,name:"pagebreak",args:[]}])}},u),hooks:{prerender:function(){r=n({},t),a=[],o={}}}};return nxtx&&nxtx.registerPackage(h),nxtx}();
//# sourceMappingURL=list-of-contents.min.js.map
